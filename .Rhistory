filter(viajes > 20, promedio_tarifa > 90 | promedio_tarifa < 15) |>
ggplot() +
geom_col(aes(x = fct_reorder(PUZone, desc(promedio_tarifa)), y = promedio_tarifa))
# Hay "zonas premium" donde la tarifa valga más?
taxis |>
group_by(PUZone) |>
summarise(promedio_tarifa = median(total_amount), viajes = n()) |>
filter(viajes > 50, promedio_tarifa > 90 | promedio_tarifa < 15) |>
ggplot() +
geom_col(aes(x = fct_reorder(PUZone, desc(promedio_tarifa)), y = promedio_tarifa))
# Hay "zonas premium" donde la tarifa valga más?
taxis |>
group_by(PUZone) |>
summarise(promedio_tarifa = median(total_amount), viajes = n()) |>
filter(viajes > 50, promedio_tarifa > 80 | promedio_tarifa < 20) |>
ggplot() +
geom_col(aes(x = fct_reorder(PUZone, desc(promedio_tarifa)), y = promedio_tarifa))
# Hay "zonas premium" donde la tarifa valga más?
taxis |>
group_by(PUZone) |>
summarise(promedio_tarifa = median(total_amount), viajes = n()) |>
filter(viajes > 50, promedio_tarifa > 80 | promedio_tarifa < 15) |>
ggplot() +
geom_col(aes(x = fct_reorder(PUZone, desc(promedio_tarifa)), y = promedio_tarifa))
# Hay "zonas premium" donde la tarifa valga más?
taxis |>
group_by(PUZone) |>
summarise(promedio_tarifa = median(total_amount), viajes = n()) |>
filter(viajes > 50, promedio_tarifa > 80 | promedio_tarifa < 20) |>
ggplot() +
geom_col(aes(x = fct_reorder(PUZone, desc(promedio_tarifa)), y = promedio_tarifa))
# Hay "zonas premium" donde la tarifa valga más?
taxis |>
group_by(PUZone) |>
summarise(promedio_tarifa = median(total_amount), viajes = n()) |>
filter(viajes > 80, promedio_tarifa > 80 | promedio_tarifa < 20) |>
ggplot() +
geom_col(aes(x = fct_reorder(PUZone, desc(promedio_tarifa)), y = promedio_tarifa))
# Hay "zonas premium" donde la tarifa valga más?
taxis |>
group_by(PUZone) |>
summarise(promedio_tarifa = median(total_amount), viajes = n()) |>
filter(viajes > 50, promedio_tarifa > 80 | promedio_tarifa < 20) |>
ggplot() +
geom_col(aes(x = fct_reorder(PUZone, desc(promedio_tarifa)), y = promedio_tarifa))
# Hay "zonas premium" donde la tarifa valga más?
taxis |>
group_by(PUZone) |>
summarise(promedio_tarifa = median(total_amount), viajes = n()) |>
filter(viajes > 50, promedio_tarifa > 80) |>
ggplot() +
geom_col(aes(x = fct_reorder(PUZone, desc(promedio_tarifa)), y = promedio_tarifa))
# Hay "zonas premium" donde la tarifa valga más?
taxis |>
group_by(PUZone) |>
summarise(promedio_tarifa = median(total_amount), viajes = n()) |>
filter(viajes > 20, promedio_tarifa > 80) |>
ggplot() +
geom_col(aes(x = fct_reorder(PUZone, desc(promedio_tarifa)), y = promedio_tarifa))
# Hay "zonas premium" donde la tarifa valga más?
taxis |>
group_by(PUZone) |>
summarise(promedio_tarifa = median(total_amount), viajes = n()) |>
filter(viajes > 30, promedio_tarifa > 80) |>
ggplot() +
geom_col(aes(x = fct_reorder(PUZone, desc(promedio_tarifa)), y = promedio_tarifa))
# Hay "zonas premium" donde la tarifa valga más?
taxis |>
group_by(PUZone) |>
summarise(promedio_tarifa = median(total_amount), viajes = n()) |>
filter(viajes > 50, promedio_tarifa > 80) |>
ggplot() +
geom_col(aes(x = fct_reorder(PUZone, desc(promedio_tarifa)), y = promedio_tarifa))
# Hay "zonas premium" donde la tarifa valga más?
taxis |>
group_by(PUZone) |>
summarise(promedio_tarifa = median(total_amount), viajes = n()) |>
filter(viajes > 50, promedio_tarifa > 80) |>
ggplot() +
geom_col(aes(x = fct_reorder(PUZone, desc(promedio_tarifa)), y = promedio_tarifa))+
scale_y_reverse()
# Hay "zonas premium" donde la tarifa valga más?
taxis |>
group_by(PUZone) |>
summarise(promedio_tarifa = median(total_amount), viajes = n()) |>
filter(viajes > 50, promedio_tarifa > 80) |>
ggplot() +
geom_col(aes(x = fct_reorder(PUZone, desc(promedio_tarifa)), y = promedio_tarifa))+
coord_flip()
na.rm = T)+
# Hay "zonas premium" donde la tarifa valga más?
taxis |>
group_by(PUZone) |>
summarise(promedio_tarifa = median(total_amount), viajes = n()) |>
filter(viajes > 50, promedio_tarifa > 80) |>
ggplot() +
geom_col(aes(x = fct_reorder(PUZone, desc(promedio_tarifa)),
y = promedio_tarifa,
fill = promedio_tarifa),
na.rm = T)+
coord_flip()+
labs(title = 'Zonas más caras y más baratas para pedir un taxi',
x = '',
y = 'Tarifa promedio')
# Hay "zonas premium" donde la tarifa valga más?
taxis |>
group_by(PUZone) |>
summarise(promedio_tarifa = median(total_amount), viajes = n()) |>
filter(viajes > 50, promedio_tarifa > 80) |>
ggplot() +
geom_col(aes(x = fct_reorder(PUZone, desc(promedio_tarifa)),
y = promedio_tarifa,
fill = promedio_tarifa),
na.rm = T)+
scale_fill_gradientn(colors = c("darkgreen", "yellow", "red"))+
coord_flip()+
labs(title = 'Zonas más caras y más baratas para pedir un taxi',
x = '',
y = 'Tarifa promedio')
# Hay "zonas premium" donde la tarifa valga más?
taxis |>
group_by(PUZone) |>
summarise(promedio_tarifa = median(total_amount), viajes = n()) |>
filter(viajes > 50, promedio_tarifa > 80) |>
ggplot() +
geom_col(aes(x = fct_reorder(PUZone, desc(promedio_tarifa)),
y = promedio_tarifa,
fill = promedio_tarifa),
na.rm = T)+
scale_fill_gradientn(colors = c('orange', "red"))+
coord_flip()+
labs(title = 'Zonas más caras y más baratas para pedir un taxi',
x = '',
y = 'Tarifa promedio')
# Hay "zonas premium" donde la tarifa valga más?
taxis |>
group_by(PUZone) |>
summarise(promedio_tarifa = median(total_amount), viajes = n()) |>
filter(viajes > 50, promedio_tarifa > 80) |>
ggplot() +
geom_col(aes(x = fct_reorder(PUZone, desc(promedio_tarifa)),
y = promedio_tarifa,
fill = promedio_tarifa),
na.rm = T)+
scale_fill_gradientn(colors = c('orange', "red"))+
coord_flip()+
labs(title = 'Zonas más caras y más baratas para pedir un taxi',
x = '',
y = 'Tarifa promedio')
# Hay "zonas premium" donde la tarifa valga más?
taxis |>
group_by(PUZone) |>
summarise(promedio_tarifa = median(total_amount), viajes = n()) |>
filter(viajes > 50, promedio_tarifa > 80) |>
ggplot() +
geom_col(aes(x = fct_reorder(PUZone, desc(promedio_tarifa)),
y = promedio_tarifa,
fill = promedio_tarifa),
na.rm = T)+
scale_fill_gradientn(colors = c('orange', "red"))+
coord_flip()+
labs(title = 'Zonas más caras y más baratas para pedir un taxi',
x = '',
y = 'Tarifa promedio')
# Hay "zonas premium" donde la tarifa valga más?
taxis |>
group_by(PUZone) |>
summarise(promedio_tarifa = median(total_amount), viajes = n()) |>
filter(viajes > 50) |>
ggplot() +
geom_col(aes(x = fct_reorder(PUZone, desc(promedio_tarifa)),
y = promedio_tarifa,
fill = promedio_tarifa),
na.rm = T)+
scale_fill_gradientn(colors = c('orange', "red"))+
coord_flip()+
labs(title = 'Zonas más caras y más baratas para pedir un taxi',
x = '',
y = 'Tarifa promedio')
# Hay "zonas premium" donde la tarifa valga más?
taxis |>
group_by(PUZone) |>
summarise(promedio_tarifa = median(total_amount), viajes = n()) |>
filter(viajes > 50) |>
mutate(rango_tarifa = case_when(
promedio_tarifa < 20 ~ "Barata",
promedio_tarifa >= 40 ~ "Alta")) |>
ggplot() +
geom_col(aes(x = fct_reorder(PUZone, desc(promedio_tarifa)),
y = promedio_tarifa,
fill = promedio_tarifa),
na.rm = T)+
scale_fill_gradientn(colors = c('orange', "red"))+
coord_flip()+
labs(title = 'Zonas más caras y más baratas para pedir un taxi',
x = '',
y = 'Tarifa promedio')
ggplot() +
geom_col(aes(x = fct_reorder(PUZone, desc(promedio_tarifa)),
y = promedio_tarifa,
fill = promedio_tarifa),
na.rm = T)+
scale_fill_gradientn(colors = c('orange', "red"))+
coord_flip()+
labs(title = 'Zonas más caras y más baratas para pedir un taxi',
x = '',
y = 'Tarifa promedio')
# Hay "zonas premium" donde la tarifa valga más?
taxis |>
group_by(PUZone) |>
summarise(promedio_tarifa = median(total_amount), viajes = n()) |>
filter(viajes > 50) |>
mutate(rango_tarifa = case_when(
promedio_tarifa < 17 ~ "Barata",
promedio_tarifa >= 80 ~ "Cara")) |>
filter(rango_tarifa %in% c('Barata', 'Cara')) |>
ggplot() +
geom_col(aes(x = fct_reorder(PUZone, desc(promedio_tarifa)),
y = promedio_tarifa,
fill = promedio_tarifa),
na.rm = T)+
scale_fill_gradientn(colors = c('orange', "red"))+
coord_flip()+
labs(title = 'Zonas más caras y más baratas para pedir un taxi',
x = '',
y = 'Tarifa promedio')
# Hay "zonas premium" donde la tarifa valga más?
taxis |>
group_by(PUZone) |>
summarise(promedio_tarifa = median(total_amount), viajes = n()) |>
filter(viajes > 50) |>
mutate(rango_tarifa = case_when(
promedio_tarifa < 17 ~ "Barata",
promedio_tarifa >= 80 ~ "Cara")) |>
filter(rango_tarifa %in% c('Barata', 'Cara')) |>
ggplot() +
geom_col(aes(x = fct_reorder(PUZone, desc(promedio_tarifa)),
y = promedio_tarifa,
fill = promedio_tarifa),
na.rm = T)+
scale_fill_gradientn(colors = c('orange', "red"))+
coord_flip()+
labs(title = 'Zonas más caras y más baratas para pedir un taxi',
x = '',
y = 'Tarifa promedio')+
facet_wrap(rango_tarifa)
# Hay "zonas premium" donde la tarifa valga más?
taxis |>
group_by(PUZone) |>
summarise(promedio_tarifa = median(total_amount), viajes = n()) |>
filter(viajes > 50) |>
mutate(rango_tarifa = case_when(
promedio_tarifa < 17 ~ "Barata",
promedio_tarifa >= 80 ~ "Cara")) |>
filter(rango_tarifa %in% c('Barata', 'Cara')) |>
ggplot() +
geom_col(aes(x = fct_reorder(PUZone, desc(promedio_tarifa)),
y = promedio_tarifa,
fill = promedio_tarifa),
na.rm = T)+
scale_fill_gradientn(colors = c('orange', "red"))+
coord_flip()+
labs(title = 'Zonas más caras y más baratas para pedir un taxi',
x = '',
y = 'Tarifa promedio')+
facet_wrap(~rango_tarifa)
# Hay "zonas premium" donde la tarifa valga más?
taxis |>
group_by(PUZone) |>
summarise(promedio_tarifa = median(total_amount), viajes = n()) |>
filter(viajes > 50) |>
mutate(rango_tarifa = case_when(
promedio_tarifa < 17 ~ "Barata",
promedio_tarifa >= 80 ~ "Cara")) |>
filter(rango_tarifa %in% c('Barata', 'Cara')) |>
ggplot() +
geom_col(aes(x = fct_reorder(PUZone, desc(promedio_tarifa)),
y = promedio_tarifa,
fill = promedio_tarifa),
na.rm = T)+
scale_fill_gradientn(colors = c('orange', "red"))+
coord_flip()+
labs(title = 'Zonas más caras y más baratas para pedir un taxi',
x = '',
y = 'Tarifa promedio')+
facet_wrap(~rango_tarifa, drop = T)
# Hay "zonas premium" donde la tarifa valga más?
taxis |>
group_by(PUZone) |>
summarise(promedio_tarifa = median(total_amount), viajes = n()) |>
filter(viajes > 50) |>
mutate(rango_tarifa = case_when(
promedio_tarifa < 17 ~ "Barata",
promedio_tarifa >= 80 ~ "Cara")) |>
filter(rango_tarifa %in% c('Barata', 'Cara')) |>
ggplot() +
geom_col(aes(x = fct_reorder(PUZone, desc(promedio_tarifa)),
y = promedio_tarifa,
fill = promedio_tarifa),
na.rm = T)+
scale_fill_gradientn(colors = c('orange', "red"))+
coord_flip()+
labs(title = 'Zonas más caras y más baratas para pedir un taxi',
x = '',
y = 'Tarifa promedio')+
facet_wrap(~factor(rango_tarifa), drop = T)
# Hay "zonas premium" donde la tarifa valga más?
taxis |>
group_by(PUZone) |>
summarise(promedio_tarifa = median(total_amount), viajes = n()) |>
filter(viajes > 50) |>
mutate(rango_tarifa = case_when(
promedio_tarifa < 17 ~ "Barata",
promedio_tarifa >= 80 ~ "Cara")) |>
filter(rango_tarifa %in% c('Barata', 'Cara')) |>
ggplot() +
geom_col(aes(x = fct_reorder(PUZone, desc(promedio_tarifa)),
y = promedio_tarifa,
fill = promedio_tarifa),
na.rm = T)+
scale_fill_gradientn(colors = c('orange', "red"))+
coord_flip()+
labs(title = 'Zonas más caras y más baratas para pedir un taxi',
x = '',
y = 'Tarifa promedio')+
facet_wrap(factor(~rango_tarifa), drop = T)
# Hay "zonas premium" donde la tarifa valga más?
taxis |>
group_by(PUZone) |>
summarise(promedio_tarifa = median(total_amount), viajes = n()) |>
filter(viajes > 50) |>
mutate(rango_tarifa = case_when(
promedio_tarifa < 17 ~ "Barata",
promedio_tarifa >= 80 ~ "Cara")) |>
filter(rango_tarifa %in% c('Barata', 'Cara')) |>
ggplot() +
geom_col(aes(x = fct_reorder(PUZone, desc(promedio_tarifa)),
y = promedio_tarifa,
fill = promedio_tarifa),
na.rm = T)+
scale_fill_gradientn(colors = c('orange', "red"))+
coord_flip()+
labs(title = 'Zonas más caras y más baratas para pedir un taxi',
x = '',
y = 'Tarifa promedio')+
facet_wrap(~rango_tarifa, drop = T)
# Hay "zonas premium" donde la tarifa valga más?
taxis |>
group_by(PUZone) |>
summarise(promedio_tarifa = median(total_amount), viajes = n()) |>
filter(viajes > 50) |>
mutate(rango_tarifa = case_when(
promedio_tarifa < 17 ~ "Barata",
promedio_tarifa >= 80 ~ "Cara")) |>
mutate(rango_tarifa = factor(rango_tarifa, levels = c("Barata", "Cara"))) |>
filter(rango_tarifa %in% c('Barata', 'Cara')) |>
ggplot() +
geom_col(aes(x = fct_reorder(PUZone, desc(promedio_tarifa)),
y = promedio_tarifa,
fill = promedio_tarifa),
na.rm = T)+
scale_fill_gradientn(colors = c('orange', "red"))+
coord_flip()+
labs(title = 'Zonas más caras y más baratas para pedir un taxi',
x = '',
y = 'Tarifa promedio')+
facet_wrap(~rango_tarifa, drop = T)
# Hay "zonas premium" donde la tarifa valga más?
taxis |>
group_by(PUZone) |>
summarise(promedio_tarifa = median(total_amount), viajes = n()) |>
filter(viajes > 50) |>
mutate(rango_tarifa = case_when(
promedio_tarifa < 17 ~ "Barata",
promedio_tarifa >= 80 ~ "Cara")) |>
mutate(rango_tarifa = factor(rango_tarifa, levels = c("Barata", "Cara"))) |>
filter(rango_tarifa %in% c('Barata', 'Cara')) |>
ggplot() +
geom_col(aes(x = fct_reorder(PUZone, desc(promedio_tarifa)),
y = promedio_tarifa,
fill = promedio_tarifa),
na.rm = T)+
scale_fill_gradientn(colors = c('orange', "red"))+
coord_flip()+
labs(title = 'Zonas más caras y más baratas para pedir un taxi',
x = '',
y = 'Tarifa promedio')+
facet_wrap(~rango_tarifa, drop = T)
# Hay "zonas premium" donde la tarifa valga más?
taxis |>
group_by(PUZone) |>
summarise(promedio_tarifa = median(total_amount), viajes = n()) |>
filter(viajes > 50) |>
mutate(rango_tarifa = case_when(
promedio_tarifa < 17 ~ "Barata",
promedio_tarifa >= 80 ~ "Cara",
TRUE ~ NA_character_
)) |>
mutate(rango_tarifa = factor(rango_tarifa, levels = c("Barata", "Cara"))) |>
filter(rango_tarifa %in% c('Barata', 'Cara')) |>
ggplot() +
geom_col(aes(x = fct_reorder(PUZone, desc(promedio_tarifa)),
y = promedio_tarifa,
fill = promedio_tarifa),
na.rm = T)+
scale_fill_gradientn(colors = c('orange', "red"))+
coord_flip()+
labs(title = 'Zonas más caras y más baratas para pedir un taxi',
x = '',
y = 'Tarifa promedio')+
facet_wrap(~rango_tarifa, drop = T)
# Hay "zonas premium" donde la tarifa valga más?
taxis |>
group_by(PUZone) |>
summarise(promedio_tarifa = median(total_amount), viajes = n()) |>
filter(viajes > 50) |>
mutate(rango_tarifa = case_when(
promedio_tarifa < 17 ~ "Barata",
promedio_tarifa >= 80 ~ "Cara",
TRUE ~ NA_character_
)) |>
mutate(rango_tarifa = factor(rango_tarifa, levels = c("Barata", "Cara"))) |>
filter(!is.na(rango_tarifa)) |>
ggplot() +
geom_col(aes(x = fct_reorder(PUZone, desc(promedio_tarifa)),
y = promedio_tarifa,
fill = promedio_tarifa),
na.rm = TRUE) +
scale_fill_gradientn(colors = c('orange', 'red')) +
coord_flip() +
labs(title = 'Zonas más caras y más baratas para pedir un taxi',
x = '',
y = 'Tarifa promedio') +
facet_wrap(~rango_tarifa)
# Hay "zonas premium" donde la tarifa valga más?
taxis |>
group_by(PUZone) |>
summarise(promedio_tarifa = median(total_amount), viajes = n()) |>
filter(viajes > 50) |>
mutate(rango_tarifa = case_when(
promedio_tarifa < 17 ~ "Barata",
promedio_tarifa >= 80 ~ "Cara")) |>
filter(rango_tarifa %in% c('Barata', 'Cara')) |>
ggplot() +
geom_col(aes(x = fct_reorder(PUZone, desc(promedio_tarifa)),
y = promedio_tarifa,
fill = promedio_tarifa),
na.rm = T)+
scale_fill_gradientn(colors = c('orange', "red"))+
labs(title = 'Zonas más caras y más baratas para pedir un taxi',
x = '',
y = 'Tarifa promedio')+
facet_wrap(~rango_tarifa)
# Hay "zonas premium" donde la tarifa valga más?
taxis |>
group_by(PUZone) |>
summarise(promedio_tarifa = median(total_amount), viajes = n()) |>
filter(viajes > 50) |>
mutate(rango_tarifa = case_when(
promedio_tarifa < 17 ~ "Mas baratas",
promedio_tarifa >= 80 ~ "Mas caras")) |>
filter(rango_tarifa %in% c('Mas baratas', 'Mas caras')) |>
ggplot() +
geom_col(aes(x = fct_reorder(PUZone, desc(promedio_tarifa)),
y = promedio_tarifa,
fill = promedio_tarifa),
na.rm = T)+
scale_fill_gradientn(colors = c('orange', "red"))+
coord_flip()+
labs(title = 'Zonas más caras y más baratas para pedir un taxi',
x = '',
y = 'Tarifa promedio')+
facet_wrap(~rango_tarifa)
# Hay "zonas premium" donde la tarifa valga más?
taxis |>
group_by(PUZone) |>
summarise(promedio_tarifa = median(total_amount), viajes = n()) |>
filter(viajes > 50) |>
mutate(rango_tarifa = case_when(
promedio_tarifa < 17 ~ "Mas baratas",
promedio_tarifa >= 80 ~ "Mas caras")) |>
filter(rango_tarifa %in% c('Mas baratas', 'Mas caras')) |>
ggplot() +
geom_col(aes(x = fct_reorder(PUZone, desc(promedio_tarifa)),
y = promedio_tarifa,
fill = promedio_tarifa),
na.rm = T, show.legend = F)+
scale_fill_gradientn(colors = c('orange', "red"))+
coord_flip()+
labs(title = 'Zonas más caras y más baratas para pedir un taxi',
x = '',
y = 'Tarifa promedio')+
facet_wrap(~rango_tarifa)
# Hay "zonas premium" donde la tarifa valga más?
taxis |>
group_by(PUZone) |>
summarise(promedio_tarifa = median(total_amount), viajes = n()) |>
filter(viajes > 50) |>
mutate(rango_tarifa = case_when(
promedio_tarifa < 17 ~ "Mas baratas",
promedio_tarifa >= 80 ~ "Mas caras")) |>
filter(rango_tarifa %in% c('Mas baratas', 'Mas caras')) |>
ggplot() +
geom_col(aes(x = fct_reorder(PUZone, desc(promedio_tarifa)),
y = promedio_tarifa,
fill = promedio_tarifa),
na.rm = T, show.legend = F)+
scale_fill_gradientn(colors = c('orange', "red"))+
coord_flip()+
labs(title = 'Zonas más caras y más baratas para pedir un taxi',
x = '',
y = 'Tarifa promedio')
