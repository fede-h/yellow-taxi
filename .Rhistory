geom_abline(aes(slope = mod[['coefficients']][['Petal.Length']],
intercept = mod[["coefficients"]][["(Intercept)"]]),
color = 'blue', alpha = 0.75)+
geom_segment(aes(x = Petal.Length, y = Petal.Width, xend = Petal.Length, yend = pred), alpha = 0.3)
summary(mod)
df = df |> mutate(residuals = Petal.Width- pred)
ggplot(df)+
geom_point(aes(x = Petal.Length, y = Petal.Width), color = 'black', shape = 1)+
geom_point(aes(x = Petal.Length, y = pred), color = 'red')+
geom_abline(aes(slope = mod[['coefficients']][['Petal.Length']],
intercept = mod[['coefficients']][['(Intercept)']]),
color = 'blue', alpha = 0.75)+
geom_segment(aes(x = Petal.Length, y = Petal.Width, xend = Petal.Length, yend = pred), alpha = 0.3)
ggplot(df)+
geom_point(aes(x = Petal.Length, y = Petal.Width), color = 'black', shape = 1)+
geom_point(aes(x = Petal.Length, y = pred), color = 'red')+
geom_abline(aes(slope = mod[['coefficients']][['Petal.Length']],
intercept = mod[['coefficients']][['(Intercept)']]),
color = 'blue', alpha = 0.75, position = 'jitter')+
geom_segment(aes(x = Petal.Length, y = Petal.Width, xend = Petal.Length, yend = pred), alpha = 0.3)
ggplot(df)+
geom_point(aes(x = Petal.Length, y = Petal.Width), color = 'black', shape = 1)+
geom_point(aes(x = Petal.Length, y = pred), color = 'red')+
geom_abline(aes(slope = mod[['coefficients']][['Petal.Length']],
intercept = mod[['coefficients']][['(Intercept)']]),
color = 'blue', alpha = 0.75)+
geom_segment(aes(x = Petal.Length, y = Petal.Width, xend = Petal.Length, yend = pred), alpha = 0.3)
rsquare(model=mod, data=df)
plot(mod, df)
plot(df, mod)
plot(mod)
plot(df)
plot(df$Petal.Length, df$Petal.Width)
plot(df$Petal.Length, df$Petal.Width, df$Sepal.Length, df$Sepal.Width)
plot(df$Petal.Length, df$Petal.Width)
plot(df)
df = df |> mutate(residuals = Petal.Width- pred)
library(modelr)
library(tidyverse)
library(tidyverse)
rary(modelr)
library(tidyverse)
library(modelr)
summary(iris)
glimpse(iris)
unique(iris$Species)
df = iris |> filter(Species == 'versicolor')
ggplot(df)+
geom_point(aes(x = Petal.Length, y = Petal.Width, colour =))
mod <- lm(Petal.Width ~ Petal.Length, data = df)
summary(mod)
df <- df %>% add_predictions(model=mod)
ggplot(df)+
geom_point(aes(x = Petal.Length, y = Petal.Width), color = 'black', shape = 1)+
geom_point(aes(x = Petal.Length, y = pred), color = 'red')+
geom_abline(aes(slope = mod[['coefficients']][['Petal.Length']],
intercept = mod[['coefficients']][['(Intercept)']]),
color = 'blue', alpha = 0.75)+
geom_segment(aes(x = Petal.Length, y = Petal.Width, xend = Petal.Length, yend = pred), alpha = 0.3)
df = df |> mutate(residuals = Petal.Width- pred)
rsquare(model=mod, data=df)
plot(df)
ggplot(df)+
geom_point(aes(x = Petal.Length, y = Petal.Width), color = 'black', shape = 1)+
geom_point(aes(x = Petal.Length, y = pred), color = 'red')+
geom_abline(aes(slope = mod[['coefficients']][['Petal.Length']],
intercept = mod[['coefficients']][['(Intercept)']]),
color = 'blue', alpha = 0.75)+
geom_segment(aes(x = Petal.Length, y = Petal.Width, xend = Petal.Length, yend = pred), alpha = 0.3)
mod2 = df |> lm(Petal.Width ~ Sepal.Length + Sepal.Width)
mod2 = lm(Petal.Width ~ Sepal.Length + Sepal.Width, data = df)
mod2 = lm(Petal.Width ~ Sepal.Width, data = df)
mod1 = lm(Petal.Width ~ Sepal.Length, data = df)
summary(mod1 + mod2)
summary(mod1, mod2)
summary(mod1)
rsquare(model = mod1, data = df)
rsquare(model = mod1, data = df) + rsquare(model = mod2, data = df)
rsquare(model = mod1, data = df), rsquare(model = mod2, data = df)
rsquare(model = mod1, data = df) |> rsquare(model = mod2, data = df)
rsquare(model = mod1, data = df)
rsquare(model = mod2, data = df)
summary(mod2)
summary(mod1)
summary(mod2)
rsquare(model = mod1, data = df)
rsquare(model = mod2, data = df)
rsquare(model = mod, data = df)
mod3 = lm(Petal.Width ~ Sepal.Width + Sepal.Length, data = df)
rsquare(model = mod, data = df)
rsquare(model = mod3, data = df)
summary(mod)
df <- df %>% add_predictions(model=mod2)
df <- df %>% add_predictions(model=mod2)
df = df |> mutate(residuals = Petal.Width- pred)
ggplot(df)+
geom_point(aes(x = Sepal.Width, y = Petal.Width), color = 'black', shape = 1)+
geom_point(aes(x = Sepal.Width, y = pred), color = 'red')+
geom_abline(aes(slope = mod2[['coefficients']][['Sepal.Width']],
intercept = mod2[['coefficients']][['(Intercept)']]),
color = 'blue', alpha = 0.75)+
geom_segment(aes(x = Sepal.Width, y = Petal.Width, xend = Sepal.Width, yend = pred), alpha = 0.3)
ggplot(df)+
geom_point(aes(x = Petal.Length, y = Petal.Width), color = 'black', shape = 1)+
geom_point(aes(x = Petal.Length, y = pred), color = 'red')+
geom_abline(aes(slope = mod[['coefficients']][['Petal.Length']],
intercept = mod[['coefficients']][['(Intercept)']]),
color = 'blue', alpha = 0.75)+
geom_segment(aes(x = Petal.Length, y = Petal.Width, xend = Petal.Length, yend = pred), alpha = 0.3)
ggplot(df)+
geom_point(aes(x = Petal.Length, y = Petal.Width), color = 'black', shape = 1)+
geom_point(aes(x = Petal.Length, y = pred), color = 'red')+
geom_abline(aes(slope = mod[['coefficients']][['Petal.Length']],
intercept = mod[['coefficients']][['(Intercept)']]),
color = 'blue', alpha = 0.75)+
geom_segment(aes(x = Petal.Length, y = Petal.Width, xend = Petal.Length, yend = pred), alpha = 0.3)
df <- df %>% add_predictions(model=mod)
df = df |> mutate(residuals = Petal.Width- pred)
ggplot(df)+
geom_point(aes(x = Petal.Length, y = Petal.Width), color = 'black', shape = 1)+
geom_point(aes(x = Petal.Length, y = pred), color = 'red')+
geom_abline(aes(slope = mod[['coefficients']][['Petal.Length']],
intercept = mod[['coefficients']][['(Intercept)']]),
color = 'blue', alpha = 0.75)+
geom_segment(aes(x = Petal.Length, y = Petal.Width, xend = Petal.Length, yend = pred), alpha = 0.3)
ggplot(df)+
geom_point(aes(x = Sepal.Width, y = Petal.Width), color = 'black', shape = 1)+
geom_point(aes(x = Sepal.Width, y = pred), color = 'red')+
geom_abline(aes(slope = mod2[['coefficients']][['Sepal.Width']],
intercept = mod2[['coefficients']][['(Intercept)']]),
color = 'blue', alpha = 0.75)+
geom_segment(aes(x = Sepal.Width, y = Petal.Width, xend = Sepal.Width, yend = pred), alpha = 0.3)
ggplot(df)+
geom_point(aes(x = Petal.Length, y = Petal.Width), color = 'black', shape = 1)+
geom_point(aes(x = Petal.Length, y = pred), color = 'red')+
geom_abline(aes(slope = mod[['coefficients']][['Petal.Length']],
intercept = mod[['coefficients']][['(Intercept)']]),
color = 'blue', alpha = 0.75)+
geom_segment(aes(x = Petal.Length, y = Petal.Width, xend = Petal.Length, yend = pred), alpha = 0.3)
ggplot(df)+
geom_point(aes(x = Sepal.Width, y = Petal.Width), color = 'black', shape = 1)+
geom_point(aes(x = Sepal.Width, y = pred), color = 'red')+
geom_abline(aes(slope = mod2[['coefficients']][['Sepal.Width']],
intercept = mod2[['coefficients']][['(Intercept)']]),
color = 'blue', alpha = 0.75)+
geom_segment(aes(x = Sepal.Width, y = Petal.Width, xend = Sepal.Width, yend = pred), alpha = 0.3)
library(tidyverse)
library(modelr)
summary(iris)
glimpse(iris)
unique(iris$Species)
df = iris |> filter(Species == 'versicolor')
ggplot(df)+
geom_point(aes(x = Petal.Length, y = Petal.Width, colour =))
mod <- lm(Petal.Width ~ Petal.Length, data = df)
summary(mod)
mod1 = lm(Petal.Width ~ Sepal.Length, data = df)
mod2 = lm(Petal.Width ~ Sepal.Width, data = df)
mod3 = lm(Petal.Width ~ Sepal.Width + Sepal.Length, data = df)
summary(mod1)
summary(mod2)
rsquare(model = mod1, data = df)
rsquare(model = mod2, data = df)
rsquare(model = mod, data = df)
rsquare(model = mod3, data = df)
df <- df %>% add_predictions(model=mod)
ggplot(df)+
geom_point(aes(x = Petal.Length, y = Petal.Width), color = 'black', shape = 1)+
geom_point(aes(x = Petal.Length, y = pred), color = 'red')+
geom_abline(aes(slope = mod[['coefficients']][['Petal.Length']],
intercept = mod[['coefficients']][['(Intercept)']]),
color = 'blue', alpha = 0.75)+
geom_segment(aes(x = Petal.Length, y = Petal.Width, xend = Petal.Length, yend = pred), alpha = 0.3)
ggplot(df)+
geom_point(aes(x = Sepal.Width, y = Petal.Width), color = 'black', shape = 1)+
geom_point(aes(x = Sepal.Width, y = pred), color = 'red')+
geom_abline(aes(slope = mod2[['coefficients']][['Sepal.Width']],
intercept = mod2[['coefficients']][['(Intercept)']]),
color = 'blue', alpha = 0.75)+
geom_segment(aes(x = Sepal.Width, y = Petal.Width, xend = Sepal.Width, yend = pred), alpha = 0.3)
ggplot(df)+
geom_point(aes(x = Petal.Length, y = Petal.Width), color = 'black', shape = 1)+
geom_point(aes(x = Petal.Length, y = pred), color = 'red')+
geom_abline(aes(slope = mod[['coefficients']][['Petal.Length']],
intercept = mod[['coefficients']][['(Intercept)']]),
color = 'blue', alpha = 0.75)+
geom_segment(aes(x = Petal.Length, y = Petal.Width, xend = Petal.Length, yend = pred), alpha = 0.3)
ggplot(df)+
geom_point(aes(x = Sepal.Width, y = Petal.Width), color = 'black', shape = 1)+
geom_point(aes(x = Sepal.Width, y = pred), color = 'red')+
geom_abline(aes(slope = mod2[['coefficients']][['Sepal.Width']],
intercept = mod2[['coefficients']][['(Intercept)']]),
color = 'blue', alpha = 0.75)+
geom_segment(aes(x = Sepal.Width, y = Petal.Width, xend = Sepal.Width, yend = pred), alpha = 0.3)
ggplot(df)+
geom_point(aes(x = Petal.Length, y = Petal.Width), color = 'black', shape = 1)+
geom_point(aes(x = Petal.Length, y = pred), color = 'red')+
geom_abline(aes(slope = mod[['coefficients']][['Petal.Length']],
intercept = mod[['coefficients']][['(Intercept)']]),
color = 'blue', alpha = 0.75)+
geom_segment(aes(x = Petal.Length, y = Petal.Width, xend = Petal.Length, yend = pred), alpha = 0.3)
grilla <- data_grid(df, Petal.Length,
Sepal.Width = seq_range(Sepal.Width, n=5)) %>%
add_predictions(mod2)
View(grilla)
grilla <- data_grid(df, Petal.Length,
Sepal.Width = seq_range(Sepal.Width, n=5)) %>%
add_predictions(mod2)
df %>% ggplot(aes(x=Petal.Length, y=Petal.Width,
color=Sepal.Width)) +
geom_point() +
geom_line(data=grilla, aes(y=pred, group=Sepal.Width))
df %>% ggplot(aes(x=Petal.Length, y=Petal.Width,
color=Sepal.Width)) +
geom_point() +
geom_line(data=grilla, aes(y=pred))
, group=Sepal.Width
df %>% ggplot(aes(x=Petal.Length, y=Petal.Width,
color=Sepal.Width)) +
geom_point() +
geom_line(data=grilla, aes(y=pred, group=Sepal.Width))
df %>% ggplot(aes(x=Petal.Length, y=Petal.Width,
color=Sepal.Width)) +
geom_point() +
geom_line(data=grilla, aes(y=pred, group=Sepal.Width))
grilla <- data_grid(df, Petal.Length,
Sepal.Width = seq_range(Sepal.Width, n=5)) %>%
add_predictions(mod)
df %>% ggplot(aes(x=Petal.Length, y=Petal.Width,
color=Sepal.Width)) +
geom_point() +
geom_line(data=grilla, aes(y=pred, group=Sepal.Width))
df %>% ggplot(aes(x=Petal.Length, y=Petal.Width,
color=Sepal.Width)) +
geom_point() +
geom_line(data=grilla, aes(y=pred, group=Sepal.Width))
grilla <- data_grid(df, Petal.Length,
Sepal.Width = seq_range(Sepal.Width, n=5)) %>%
add_predictions(mod1)
df %>% ggplot(aes(x=Petal.Length, y=Petal.Width,
color=Sepal.Width)) +
geom_point() +
geom_line(data=grilla, aes(y=pred, group=Sepal.Width))
grilla <- data_grid(df, Petal.Length,
Sepal.Width = seq_range(Sepal.Width, n=5)) %>%
add_predictions(mod2)
df %>% ggplot(aes(x=Petal.Length, y=Petal.Width,
color=Sepal.Width)) +
geom_point() +
geom_line(data=grilla, aes(y=pred, group=Sepal.Width))
df %>% ggplot(aes(x=Petal.Length, y=Petal.Width,
color=Sepal.Width)) +
geom_point() +
geom_line(data=grilla, aes(y=pred, group=Sepal.Width))
summary(iris)
mod <- iris |> lm(Species ~ Petal.Length)
mod <- lm(Species ~ Petal.Length ,data=iris)
mod <- lm(Species ~ Petal.Length ,data=iris)
mod <- lm(Species ~ Petal.Length ,data=iris)
library(tidyverse)
glimpse(nycflights)
library('nycflights13')
install.packages("nycflights13")
library(nycflights13)
glimpse(flights)
view(flights)
view(flights)
data <- flights
summary(flights$dep_delay)
data = flights
unique(data)
unique(data)
unico = unique(data)
summary(data$dep_delay)
summary(data$arr_delay)
data = data |> mutte(dep_delay = replace(dep_delay, dep_delay==is.na(), median(dep_delay)))
data = data |> mutate(dep_delay = replace(dep_delay, dep_delay==is.na(), median(dep_delay)))
data = data |> mutate(dep_delay = replace(dep_delay, dep_delay==is.na(dep_delay), median(dep_delay)))
View(data)
data = data |> mutate(dep_delay = replace(dep_delay, dep_delay=='NA', median(dep_delay)))
View(data)
data = data |> mutate(dep_delay = replace(dep_delay, is.na(dep_delay), median(dep_delay, na.rm = T)))
data = flights
View(data)
data = data |> mutate(dep_delay = replace(dep_delay, is.na(dep_delay), median(dep_delay, na.rm = T)))
data = data |> mutate(arr_delay = replace(arr_delay, is.na(arr_delay), median(arr_delay, na.rm = T)))
data|> summarise(vuelos = n(),
na_dep_delay = sum(is.na(dep_delay)),
n_arr_delay = sum(is.na(arr_delay)))
data = flights
data|> summarise(vuelos = n(),
na_dep_delay = sum(is.na(dep_delay)),
n_arr_delay = sum(is.na(arr_delay)))
data = data |> mutate(dep_delay = replace(dep_delay, is.na(dep_delay), median(dep_delay, na.rm = T)))
data = data |> mutate(arr_delay = replace(arr_delay, is.na(arr_delay), median(arr_delay, na.rm = T)))
data|> summarise(vuelos = n(),
na_dep_delay = sum(is.na(dep_delay)),
n_arr_delay = sum(is.na(arr_delay)))
data|> summarise(vuelos = n(),
na_dep_delay = sum(is.na(dep_delay)),
n_arr_delay = sum(is.na(arr_delay)))
filter(data, data$arr_delay == 'NA')
filter(data, data$dep_delay == 'NA')
filter(data, data$dep_delay == None)
filter(data, data$dep_delay == 'None')
unique(data$dep_delay)
filter(data, is.na(data$dep_delay))
filter(data, is.na(data$arr_delay))
unique(data$dep_delay)
data <- data %>%
group_by(carrier, flight, origin) %>%
mutate(arr_delay = replace(arr_delay,
is.na(arr_delay),
median(arr_delay, na.rm = TRUE))) %>%
mutate(dep_delay = replace(dep_delay,
is.na(dep_delay),
median(dep_delay, na.rm = TRUE))) %>% ungroup()
ggplot(data)+
geom_point(aes(x = dep_delay, y = arr_delay))
ggplot(data)+
geom_point(aes(x = dep_delay, y = arr_delay))
ggplot(data)+
geom_point(aes(x = dep_delay, y = arr_delay), alpha = 0.5)
ggplot(data)+
geom_point(aes(x = dep_delay, y = arr_delay), alpha = 0.5)+
geom_abline(slope = 1)
ggplot(data)+
geom_point(aes(x = dep_delay, y = arr_delay), alpha = 0.5)+
geom_abline(slope = 1, colour = 'red')
mod = lm(arr_delay ~ dep_dely, data = data)
mod = lm(arr_delay ~ dep_delay, data = data)
View(mod)
summary(mod)
View(mod)
ggplot(data)+
geom_point(aes(x = dep_delay, y = arr_delay), alpha = 0.5)+
geom_abline(slope = mod[['coefficients']][['dep_delay']], intercept = mod[['coefficientes']][['(Intercept)']], colour = 'red')
ggplot(data)+
geom_point(aes(x = dep_delay, y = arr_delay), alpha = 0.5)+
geom_abline(slope = mod[['coefficients']][['dep_delay']], intercept = mod[['coefficientes']][[(Intercept)]], colour = 'red')
ggplot(data)+
geom_point(aes(x = dep_delay, y = arr_delay), alpha = 0.5)+
geom_abline(slope = mod[['coefficients']][['dep_delay']], intercept = mod[['coefficientes']][['(Intercept)']], colour = 'red')
ggplot(data)+
geom_point(aes(x = dep_delay, y = arr_delay), alpha = 0.5)+
geom_abline(aes(slope = mod[['coefficients']][['dep_delay']],
intercept = mod[['coefficientes']][['(Intercept)']]),
colour = 'red')
ggplot(data)+
geom_point(aes(x = dep_delay, y = arr_delay), alpha = 0.5)+
geom_abline(aes(slope = mod[['coefficients']][['dep_delay']],
intercept = mod[['coefficients']][['(Intercept)']]),
colour = 'red')
ggplot(data)+
geom_point(aes(x = dep_delay, y = arr_delay), alpha = 0.5)+
geom_abline(aes(slope = mod[['coefficients']][['dep_delay']],
intercept = mod[['coefficients']][['(Intercept)']]),
colour = 'red')+
labs(title = 'Atraso de salida vs atraso de llegada en vuelos',
x = 'Retraso de salida [minutos]',
y = 'Retrase de llegada [minutos]')
ggplot(data)+
geom_point(aes(x = dep_delay, y = arr_delay), alpha = 0.5)+
geom_abline(aes(slope = mod[['coefficients']][['dep_delay']],
intercept = mod[['coefficients']][['(Intercept)']]),
colour = 'red')+
labs(title = 'Atraso de salida vs atraso de llegada en vuelos',
x = 'Retraso de salida [minutos]',
y = 'Retrase de llegada [minutos]')+
theme_minimal()
mod1 = lm(arr_delay ~ dep_delay + month, data = data)
summary(mod1)
ggplot(data)+
geom_point(aes(x = dep_delay, y = arr_delay), alpha = 0.5)+
geom_abline(aes(slope = mod1[['coefficients']][['dep_delay']],
intercept = mod1[['coefficients']][['(Intercept)']]),
colour = 'red')+
labs(title = 'Atraso de salida vs atraso de llegada en vuelos',
x = 'Retraso de salida [minutos]',
y = 'Retrase de llegada [minutos]')+
theme_minimal()
View(data)
ggplot(data)+
geom_point(aes(x = month, y = arr_delay), alpha = 0.5)+
geom_abline(aes(slope = mod1[['coefficients']][['month']],
intercept = mod1[['coefficients']][['(Intercept)']]),
colour = 'red')+
labs(title = 'Atraso de salida por mes',
x = 'Numero de mes',
y = 'Retraso de llegada [minutos]')+
theme_minimal()
data = data | add_predictions(model = mod1)
library(modelr)
data = data | add_predictions(model = mod1)
data = data |> add_predictions(model = mod1)
data |> group_by(month) |>
summarise(retraso_promedio = mean(pred))
data |> group_by(month) |>
summarise(retraso_promedio = mean(dep_delay-pred))
data |> group_by(month) |>
summarise(retraso_promedio = mean(pred))
data |>
filter(month == 1, dep_delay == 10) |>
summarise(retraso_promedio = mean(pred))
data |>
filter(month == 6, dep_delay == 10) |>
summarise(retraso_promedio = mean(pred))
data |>
filter(month == 7, dep_delay == 10) |>
summarise(retraso_promedio = mean(pred))
mod1 = lm(arr_delay ~ dep_delay + factor(month), data = data)
data |>
filter(month == 7, dep_delay == 10) |>
summarise(retraso_promedio = mean(pred))
data = data |> add_predictions(model = mod1)
r_delay ~ dep_delay + factor(month) + distance, data = data)
mod2 = lm(arr_delay ~ dep_delay + factor(month) + distance, data = data)
summary(mod2)
View(mod2)
data = data |> add_predictions(model = mod2)
data = data |> add_predictions(model = mod2)
summary(mod)
summary(mod1)
ggplot(data)+
geom_point(aes(x = distance, y = dep_delay-pred), alpha = 0.5)+
geom_abline(aes(slope = mod2[['coefficients']][['distance']],
intercept = mod2[['coefficients']][['(Intercept)']]),
colour = 'red')+
labs(title = 'Tiempo gnado por distancia del vuelo',
x = 'Distancia recorrida',
y = 'Tiempo ganado [minutos]')+
theme_minimal()
mod2 = lm(arr_delay ~ dep_delay + factor(month) + distance, data = data)
summary(mod2)
data = data |> add_predictions(model = mod2)
glimpse(planes)
glimpse(flights)
glimps(weather)
glimpse(weather)
data = inner_join(planes, flights, by = 'tailnum')
data = right_join(planes, flights, by = 'tailnum')
View(data)
mod3 = lm(data = data, formula = dep_delay ~ seats)
summary(mod3)
ggplot(data)+
geom_point(aes(x = seats, y = dep_delay), alpha = 0.5)+
geom_abline(aes(slope = mod3[['coefficients']][['seats']],
intercept = mod3[['coefficients']][['(Intercept)']]),
colour = 'red')+
theme_minimal()
install.packages("arrow")
library(arrow)
taxis = read_parquet("yellow_tripdata_2025-03.parquet")
setwd("~/Documents/TP final")
taxis = read_parquet("yellow_tripdata_2025-03.parquet")
View(taxis)
library(tidyverse)
taxis = sample_n(taxis, nrow(taxis) / 10)
View(taxis)
ggplot(taxis)+
geom_point(aes(x = trip_distance, y = total_amount))
ggplot(taxis)+
geom_point(aes(x = trip_distance, y = total_amount))
ggplot(taxis)+
geom_point(aes(x = trip_distance, y = total_amount), rm.na = T)
taxis = taxis |>
sample_n(nrow(taxis) / 100) |>
drop_na() |>
filter(trip_distance != 0,
trip_distance < 100,
total_amount > 0)
ggplot(taxis)+
geom_point(aes(x = trip_distance, y = total_amount), rm.na = T)
taxis = read_parquet("yellow_tripdata_2025-03.parquet")
taxis = taxis |>
sample_n(nrow(taxis) / 100) |>
drop_na() |>
filter(trip_distance != 0,
trip_distance < 100,
total_amount > 0)
ggplot(taxis)+
geom_point(aes(x = trip_distance, y = total_amount), rm.na = T)
ggplot(taxis)+
geom_point(aes(x = trip_distance, y = total_amount,
color = RatecodeID), rm.na = T)
ggplot(taxis)+
geom_point(aes(x = trip_distance,
y = total_amount,
color = factor(RatecodeID)),
rm.na = T)
ggplot(taxis)+
geom_point(aes(x = trip_distance,
y = total_amount,
color = factor(RatecodeID)),
rm_na = T)
taxis = read_parquet("yellow_tripdata_2025-03.parquet")
taxis = taxis |>
drop_na() |>
filter(trip_distance != 0,
trip_distance < 100,
total_amount > 0)
taxis = taxis |>
sample_n(nrow(taxis) / 10) |>
drop_na() |>
filter(trip_distance != 0,
trip_distance < 100,
total_amount > 0)
ggplot(taxis)+
geom_point(aes(x = trip_distance,
y = total_amount,
color = factor(RatecodeID)),
rm_na = T)
